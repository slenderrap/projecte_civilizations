/*drop table Civilization_stats;
drop table attack_units_stats;
drop table defense_units_stats;
drop table special_units_stats;
drop table Civilization_attack_stats;
drop table Civilization_defense_stats;
drop table Civilization_special_stats;
drop table Enemy_attack_stats;
drop table Battle_log;
drop table Battle_stats;
drop table Civilization_stats;
*/


CREATE TABLE Civilization_stats(
id_civilization number generated by default as identity minvalue 1,
"name" varchar2(100),
wood_amount number, 
iron_amount number,
food_amount number,
mana_amount number,
magicTower_counter number,
church_counter number,
farm_counter number,
smithy_counter number,
carpentry_counter number,
technology_defense_level number, 
technology_attack_level number, 
battles_counter number,
primary key (id_civilization)
);


CREATE TABLE attack_units_stats(
id_civilization number not null,
 unit_id number generated by default as identity minvalue 1, 
type varchar(20) check (type in ('Swordsman','Spearman','Crossbow','Cannon')),
armor number,
base_damage number,
experience number,
sanctified number(1) check(sanctified in (0,1)),
primary key (id_civilization,unit_id),
foreign key (id_civilization) references Civilization_stats(id_civilization));



CREATE TABLE defense_units_stats(   
id_civilization number not null,
 unit_id number generated by default as identity minvalue 1, 
type varchar(20) check (type in ('ArrowTower','Catapult','RocketLauncherTower')),
armor number,
base_damage number,
experience number,
sanctified number(1) default 0 check(sanctified in (0,1)),
primary key (id_civilization,unit_id),
foreign key (id_civilization) references Civilization_stats(id_civilization));

CREATE TABLE special_units_stats(   
id_civilization number not null,
unit_id number generated by default as identity minvalue 1, 
type varchar(20) check (type in ('Magician','Priest')),
armor number,
base_damage number,
experience number,
primary key (id_civilization,unit_id),
foreign key (id_civilization) references Civilization_stats(id_civilization));


CREATE TABLE Civilization_attack_stats(
id_civilization number not null,
num_battle number not null,
type varchar(20) check (type in ('Swordsman','Spearman','Crossbow','Cannon')) not null,
"initial" number,
drops number,
primary key (id_civilization,num_battle,type),
foreign key (id_civilization) references Civilization_stats(id_civilization)
);

CREATE TABLE Civilization_defense_stats(
id_civilization number not null,
num_battle number not null,
type varchar(20) check (type in ('ArrowTower','Catapult','RocketLauncherTower')) not null,
"initial" number,
drops number,
primary key (id_civilization,num_battle,type),
foreign key (id_civilization) references Civilization_stats(id_civilization)
);

CREATE TABLE Civilization_special_stats(
id_civilization number not null,
num_battle number not null,
type varchar(20) check (type in ('Magician','Priest')) not null,
"initial" number,
drops number,
primary key (id_civilization,num_battle,type),
foreign key (id_civilization) references Civilization_stats(id_civilization)
);

CREATE TABLE Enemy_attack_stats(
id_civilization number not null,
num_battle number not null,
type varchar(20) check (type in ('Swordsman','Spearman','Crossbow','Cannon')) not null,
"initial" number,
drops number,
primary key (id_civilization,num_battle,type),
foreign key (id_civilization) references Civilization_stats(id_civilization)
);

CREATE TABLE Battle_stats(
id_civilization number not null,
num_battle number not null,
wood_acquired number ,
iron_acquired number,
CONSTRAINT pk_Battle_stats primary key (id_civilization, num_battle),
CONSTRAINT fk_BStats_civil foreign key (id_civilization) references Civilization_stats(id_civilization)
);

CREATE TABLE Battle_log(
id_civilization number not null,
num_battle number not null,
num_line number not null,
log_entry varchar2(500),
CONSTRAINT pk_battle_log primary key (id_civilization, num_battle,num_line),
CONSTRAINT fk_num_battle foreign key (id_civilization,num_battle) references Battle_stats(id_civilization,num_battle)
);
